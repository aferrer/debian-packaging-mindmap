<!doctype html><html><head><meta charset=utf-8><title>Mindly document</title></head><body><p>Debian packaging</p><ul><li><p>Process</p><ul><li><p>WNPP</p><pre>https://www.debian.org/devel/wnpp/</pre></li></ul></li><li><p>Tools</p><ul><li><p>Package management tools</p><ul><li><p>dpkg-deb</p><pre>dpkg-deb is a package manipulation program that allows the user to, among other things, list the contents of a package, extract the files to a particular directory or extract the control information.</pre></li><li><p>Others</p><ul><li><p>Tasksel</p><pre>A task is a collection of several individual Debian packages all related to a specific activity. Tasks can be installed through the tasksel program or through aptitude.

Typically, the Debian installer will automatically install the task associated with a standard system and a desktop environment. Also, depending on your selections throughout the installation process, tasks might be automatically installed in your system. For example, if you selected a language other than English, the task associated with it will be installed automatically too and if the installer recognises you are installing on a laptop system the laptop task will also be installed.</pre></li><li><p>Synaptic</p><pre>synaptic is a graphical package manager. Along with most of the features offered by aptitude, it also has a feature for editing the list of used repositories, and supports browsing all available documentation related to a package.

http://www.nongnu.org/synaptic/</pre></li><li><p>Aptitude</p><pre>aptitude is a package manager for Debian GNU/Linux systems that provides a frontend to the apt package management infrastructure. aptitude is a text-based interface using the curses library. Actions may be performed from a visual interface or from the command-line.

aptitude provides the functionality of apt-get, as well as many additional features.
</pre></li></ul></li><li><p>apt</p><pre>APT is the Advanced Package Tool, an advanced interface to the Debian packaging system which provides the apt-get and apt programs. It provides commandline tools for searching and managing packages, and for querying information about them, as well as low-level access to all features of the libapt-pkg library.

FAQ: https://www.debian.org/doc/manuals/debian-faq/ch-pkgtools.en.html#s-apt

man: https://manpages.debian.org/stretch/apt/apt.8.en.html</pre></li><li><p>dpkg</p><pre>Main package management program. All other package management tools depend on dpkg.

FAQ: https://www.debian.org/doc/manuals/debian-faq/ch-pkgtools.en.html#s-dpkg

man: https://manpages.debian.org/stretch/dpkg/dpkg.1.en.html</pre></li></ul></li><li><p>Alioth</p></li><li><p>Mailing lists</p></li><li><p>Bugtracker</p></li></ul></li><li><p>Documentation</p><ul><li><p>Debian reference</p><pre>https://www.debian.org/doc/manuals/debian-reference/</pre></li><li><p>Tutorials</p><ul><li><p>Quick guide</p><pre>https://anarc.at/software/debian-development/</pre></li><li><p>Introduction to debian packaging</p><pre>https://www.debian.org/doc/devel-manuals#packaging-tutorial</pre></li></ul></li><li><p>Wiki</p></li><li><p>FAQ</p><pre>https://www.debian.org/doc/manuals/debian-faq/index.en.html#contents</pre></li></ul></li><li><p>Repos</p><ul><li><p>FTP</p><pre>ftp.debian.org us where the packages or the distributions can be downloaded from.

The following subdirectories can be found Theresa.</pre><ul><li><p>indices</p><pre>Various indices of the site (the Maintainers file and the override files).</pre></li><li><p>project</p><pre>Mostly developer-only materials and some miscellaneous files.</pre></li><li><p>tools</p><pre>DOS utilities for creating boot disks, partitioning your disk drive, compressing/decompressing files, and booting Linux.</pre></li><li><p>pool</p><pre>The pool directory contains the actual packages.

The source code is distributed in the pool directory together with all the architecture-specific binary directories.

Packages are structured in t&#39;he &quot;pool&quot; directory according to the name of the source package. To make this manageable, the pool is subdivided by section (`main&#39;, `contrib&#39; and `non-free&#39;) and by the first letter of the source package name. These directories contain several files: the binary packages for each architecture, and the source packages from which the binary packages were generated.</pre><ul><li><p>non-free</p><pre>Due to restrictions in their licenses, source code may or may not be available for packages in the &quot;contrib&quot; and &quot;non-free&quot; areas.</pre></li><li><p>main</p></li><li><p>contrib</p><pre>Due to restrictions in their licenses, source code may or may not be available for packages in the &quot;contrib&quot; and &quot;non-free&quot; areas.</pre></li></ul></li><li><p>doc</p><pre>The basic Debian documentation, such as this FAQ, the bug reporting system instructions, etc.</pre></li><li><p>dists</p><pre>The dists directory is short for &quot;distributions&quot;, and it is the canonical way to access the currently available Debian releases (and pre-releases).

Inside, the &#39;stable&#39;, &#39;testing&#39; and &#39;unstable&#39; directories are symlinks to the corresponding codename.</pre><ul><li><p>stable</p><ul><li><p>main</p><ul><li><p>binary-*</p><pre>Subdirectories that contain index files for binary packages of each available computer architecture, for example binary-i386 for packages which execute on Intel x86 PC machines or binary-sparc for packages which execute on Sun SPARCStations.

The index files in binary-* are called Packages(.gz, .bz2) and they include a summary of each binary package that is included in that distribution. The actual binary packages reside in the top level pool directory.</pre></li><li><p>debian-installer</p><pre>Contains a set of subdirectories (binary-architecture) meant for the installation system index files.</pre></li><li><p>source</p><pre>Contains index files for source packages included in the distribution. The index file is called Sources(.gz, .bz2).</pre></li></ul></li></ul></li></ul></li></ul></li><li><p>Backport</p><pre>Packages in testing and unstable adapted to work on stable.</pre></li><li><p>Archive</p><pre>Archive is the repo where all previous stable distributions go when the new stable is released (also known as oldstables).</pre></li></ul></li><li><p>Policies and Licenses</p><ul><li><p>Debian policy manual</p><pre>https://www.debian.org/doc/debian-policy/</pre></li><li><p>Licenses</p><pre>FS guidelines
GPL, BSD, Artistic,...</pre></li><li><p>Debian Free Software Guidelines</p><pre>https://www.debian.org/doc/debian-policy/ch-archive.html#s-dfsg</pre></li></ul></li><li><p>Distributions</p><pre>https://www.debian.org/doc/manuals/debian-faq/ch-ftparchives

https://www.debian.org/releases/index.en.html</pre><ul><li><p>Oldstable</p><pre>Previous stable distributions.</pre></li><li><p>Oldoldstable</p></li><li><p>Experimental</p><pre>Experimental is used for packages which are still being developed, and with a high risk of breaking your system. It&#39;s used by developers who&#39;d like to study and test bleeding edge software. Users shouldn&#39;t be using packages from there, because they can be dangerous and harmful even for the most experienced people.</pre></li><li><p>Unstable</p><pre>sid or unstable is the place where most of the packages are initially uploaded. It will never be released directly, because packages which are to be released will first have to be included in testing, in order to be released in stable later on. sid contains packages for both released and unreleased architectures.</pre><ul><li><p>contrib</p><pre>This directory contains packages which are DFSG-free andfreely distributable themselves, but somehow depend on a package that is notfreely distributable and thus available only in the non-free section.</pre></li><li><p>main</p><pre>This directory contains the packages which formally constitute the most recent release of the Debian GNU/Linux system.

These packages all comply with the Debian Free Software Guidelines, and are all freely usable and distributable.</pre></li><li><p>non-free</p><pre>This directory contains packages distribution of which is restricted in a way that requires that distributors take careful account of the specified copyright requirements.</pre></li></ul></li><li><p>Testing</p><pre>Packages are installed into the `testing&#39; directory after they have undergone some degree of testing in unstable.

They must be in sync on all architectures where they have been built and mustn&#39;t have dependencies that make them uninstallable; they also need to have fewer release-critical bugs than the versions currently in unstable.

More information about the status of &quot;testing&quot; in general and the individual packages is available at http://www.debian.org/devel/testing.

</pre><ul><li><p>contrib</p><pre>This directory contains packages which are DFSG-free andfreely distributable themselves, but somehow depend on a package that is notfreely distributable and thus available only in the non-free section.</pre></li><li><p>main</p><pre>This directory contains the packages which formally constitute the most recent release of the Debian GNU/Linux system.

These packages all comply with the Debian Free Software Guidelines, and are all freely usable and distributable.</pre></li><li><p>non-free</p><pre>This directory contains packages distribution of which is restricted in a way that requires that distributors take careful account of the specified copyright requirements.</pre></li></ul></li><li><p>Stable</p><pre>Current stable production release.</pre><ul><li><p>contrib</p><pre>This directory contains packages which are DFSG-free andfreely distributable themselves, but somehow depend on a package that is notfreely distributable and thus available only in the non-free section.</pre></li><li><p>non-free</p><pre>This directory contains packages distribution of which is restricted in a way that requires that distributors take careful account of the specified copyright requirements.</pre></li><li><p>main</p><pre>This directory contains the packages which formally constitute the most recent release of the Debian GNU/Linux system.

These packages all comply with the Debian Free Software Guidelines, and are all freely usable and distributable.</pre></li></ul></li></ul></li><li><p>Packages</p><ul><li><p>Priorities</p><pre>Each Debian package is assigned a priority by the distribution maintainers, as an aid to the package management system.

https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-priority</pre><ul><li><p>Required</p><pre>Packages that are necessary for the proper functioning of the system.

This includes all tools that are necessary to repair system defects. Should not be removed, as this can leave a system broken.</pre></li><li><p>Important</p><pre>Packages that should be found on any Unix-like system.

Other packages which the system will not run well or be usable without will be here. There are no large applications here, they only constitute the bare infrastructure.

</pre></li><li><p>Standard</p><pre>Packages that are standard on any Linux system, including a reasonably small but not too limited character-mode system.

This is what will be installed by default if users do not select anything else. Tools are included to be able to send e-mail, download files from FTP servers, a Python interpreter, some server software like OpenSSH and Exim and some common generic documentation.

</pre></li><li><p>Optional</p><pre>Packages that you might reasonably want to install if you do not know what they are, or that do not have specialized requirements.

This includes plots of applications.

</pre></li><li><p>Extra</p><pre>Packages that either conflict with others with higher priorities, are only likely to be useful if you already know what they are, or have specialized requirements that make them unsuitable for &quot;Optional&quot;.</pre></li><li><p>Essential</p><pre>Packages that are absolutely necessary for the proper functioning of the system. The package management tools will refuse to remove these.</pre></li></ul></li><li><p>Status</p><pre>The package status seen with dpkg indicates what the user wants regarding the package.

https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-pkgstatus</pre><ul><li><p>Remove</p><pre>The user wants the package removed, but does not want to remove any existing configuration file.</pre></li><li><p>Hold</p><pre>The user wants this package not to be processed, i.e. wants to keep the current version with the current status whatever that is.</pre></li><li><p>Purge</p><pre>The user wants the package to be removed completely, including its configuration files.</pre></li><li><p>Install</p><pre>The user wants the package installed or upgraded.</pre></li><li><p>Unknown</p><pre>The user has never indicated whether the package is wanted.</pre></li></ul></li><li><p>Dependencies</p><pre>Dependencies are designed to indicate (in a single flag) the level at which Program A can operate independently of the existence of Program B on a given system.

This information us declared in the package&#39;s control file.

https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-depends</pre><ul><li><p>Suggests</p><pre>Package A suggests Package B if B contains files that are related to (and usually enhance) the functionality of A.</pre></li><li><p>Replaces</p><pre>Package A replaces Package B when files installed by B are removed and (in some cases) over-written by files in A.</pre></li><li><p>Pre-depends</p><pre>For some packages, dpkg will refuse even to unpack them until certain dependencies are resolved. Such packages are said to &quot;Pre-depend&quot; on the presence of some other packages.</pre></li><li><p>Provides</p><pre>Package A provides Package B when all of the files and functionality of B are incorporated into A. This mechanism provides a way for users with constrained disk space to get only that part of package A which they really need.</pre></li><li><p>Breaks</p><pre>Package A breaks Package B when both packages cannot be simultaneously configured in a system. The package management system will refuse to install one if the other one is already installed and configured in the system.</pre></li><li><p>Conflicts</p><pre>Package A conflicts with Package B when A will not operate if B is installed on the system. Most often, conflicts are cases where A contains files which are an improvement over those in B. &quot;Conflicts&quot; are often combined with &quot;replaces&quot;.</pre></li><li><p>Recommends</p><pre>Package A recommends Package B, if the package maintainer judges that most users would not want A without also having the functionality provided by B.</pre></li><li><p>Depends</p><pre>Package A depends on Package B if B absolutely must be installed in order to run A. In some cases, A depends not only on B, but on a version of B. In this case, the version dependency is usually a lower limit, in the sense that A depends on any version of B more recent than some specified version.</pre></li></ul></li><li><p>Installation</p><ul><li><p>dpkg</p></li><li><p>Pre/post scripts</p><pre>https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-maintscripts</pre><ul><li><p>postinst</p><pre>This script typically completes any required configuration of the package foo once foo has been unpacked from its Debian archive (&quot;.deb&quot;) file. Often, &#39;postinst&#39; scripts ask users for input, and/or warn them that if they accept default values, they should remember to go back and re-configure that package as needed. Many &#39;postinst&#39; scripts then execute any commands necessary to start or restart a service once a new package has been installed or upgraded.</pre></li><li><p>postrm</p><pre>This script typically modifies links or other files associated with foo, and/or removes files created by the package. </pre></li><li><p>prerm</p><pre>This script typically stops any daemons which are associated with a package. It is executed before the removal of files associated with the package.</pre></li><li><p>preinst</p><pre>This script is executed before the package it belongs to is unpacked from its Debian archive (&quot;.deb&quot;) file. Many &#39;preinst&#39; scripts stop services for packages which are being upgraded until their installation or upgrade is completed (following the successful execution of the &#39;postinst&#39; script).</pre></li></ul></li></ul></li><li><p>Structure</p><ul><li><p>Binary</p><ul><li><p>data.tar.gz</p><pre>data files of the package</pre></li><li><p>control.tar.gz</p><pre>metadata about the package
control, md5sums, (pre|post)(rm|inst), triggers, shlibs, . . .</pre></li><li><p>debian-binary</p><pre>version of the deb file format, &quot;2.0\n&quot;</pre></li></ul></li></ul></li><li><p>Types</p><pre>There are two types of packages: binary and source.

https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-package</pre><ul><li><p>Source</p><pre>Source packages contain the source code and consist of a .dsc file describing the source package (including the names of the following files), a.orig.tar.gz file that contains the original unmodified source in gzip-compressed tar format and usually a .diff.gz file that contains the Debian-specific changes to the original source. The utility dpkg-source packs and unpacks Debian source archives.

https://www.debian.org/doc/debian-policy/ch-source.html</pre><ul><li><p>Build</p><pre>https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-sourcebuild</pre></li><li><p>Installation</p><pre>To unpack a source package it is first necessary to configure the &quot;deb-src&quot; lines in apt&#39;s sources.list config file.

Afterwards it&#39;s just:

apt-get source foo</pre></li></ul></li><li><p>Virtual</p><pre>A virtual package is a generic name that applies to any one of a group of packages, all of which provide similar basic functionality.

Formatge example, exim4 and sendmail both provide the functionality of a mail transport agent. They are therefore said to provide the virtual package &quot;mail-transport-agent&quot;. If either one is installed, then any program depending on the installation of a mail-transport-agent will be satisfied by the presence of this virtual package.

If more than one package which provide the same virtual package is installed on a system, then system administrators can set one as the preferred package with the update-alternatives command.

https://www.debian.org/doc/manuals/debian-faq/ch-customizing.en.html#s-diverse

https://www.debian.org/doc/manuals/debian-faq/ch-pkg_basics.en.html#s-virtual</pre></li><li><p>Binary</p><pre>Binary packages contain executables, configuration files, man/info pages, copyright information, and other documentation. These packages are distributed in a Debian-specific archive format and they are usually characterized by having a &#39;.deb&#39; file extension. Binary packages can be unpacked using the Debian utility dpkg

https://www.debian.org/doc/debian-policy/ch-binary.html</pre></li></ul></li></ul></li></ul></body></html>